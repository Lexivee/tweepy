timeline <- fromJSON(file="~/allLeeds.json" )
fromJSON(file="~/allLeeds.json" )
library(rjson)
fromJSON(file="~/allLeeds.json" )
timeline
timeline <- fromJSON(file="~/allLeeds.json" )
timeline
timeline[[1]]
timeline[[2]]
?fromJSON
library(rjsonio)
install.packages("rjsonio")
install.packages("RJSONIO")
library(rjsonlite)
install.packages("jsonlite")
library(rjsonlite)
library(jsonlite)
timeline <- fromJSON(file="~/allLeeds.json" )
timeline <- fromJSON("~/allLeeds.json")
timeline
timeline <- fromJSON("~/allLeeds.json", simplifyDataFrame=T)
timeline
timeline <- fromJSON(json_str="~/allLeeds.json")
?fromJSON
timeline <- fromJSON("allLeeds2NB.json") #
timeline
timeline <- fromJSON("allLeeds2NB.json")
timeline
timeline <- fromJSON("allLeeds2NBRs.json")
timeline <- fromJSON("~/allLeeds.json") # same issue: is it due to blank lines?
timeline
timeline <- fromJSON("allLeeds.json") # same issue: is it due to blank lines?
timeline <- fromJSON("allLeeds2.json") # same issue: is it due to blank lines?
timeline
timeline <- fromJSON("allLeeds2.json") # same issue: is it due to blank lines?
timeline
library(rjson)
tweet <- fromJSON("data/471045631050801152")
timeline <- fromJSON(file="~/allLeeds.json" )
timeline[[2]]
timeline$retweeted
timelist=unlist(timeline)
tweets=timelist[names(timelist)=="text"]
names=timelist[names(timelist)=="user.screen_name"]
times=timelist[names(timelist)=="created_at"]
tweet.frame=data.frame(tweets,names,times) # only loaded 1 tweet!
tweet.frame
tweet <- fromJSON("data/471045631050801152")
tweet <- fromJSON(file="data/471045631050801152")
tweet
str(tweet)
tweet$created_at
tweet$coordinates
tweet <- fromJSON(file="data/tweets.json")
str(tweet)
tweet <- fromJSON(file="data/tweets.json")
str(tweet)
tweet$coordinates
tweet
sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=","))
tweets <- sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=","))
body <- sapply(tweets, "[[", "body")
tweets[[1]]
tweets[[2]]
tweets <- sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=","))
tweets
tweets <- sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=","))
tweets
body <- sapply(tweets, "[[")
library(rjson)
library(RCurl)
library(rjson)
library(RCurl)
library(plyr)
tweets <- sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=","))
tweets
tweets <- fromJSON(sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=",")))
tweets
tweets[[2]]
body <- sapply(tweets, "[[")
body <- sapply(tweets, "[[", "body")
body
body <- sapply(tweets, "[[", "coordinates")
body
unlist(body)
l <- fromJSON('[{"winner":"68694999",  "votes":[
{"ts":"Thu Mar 25 03:13:01 UTC 2010", "user":{"name":"Lamur","user_id":"68694999"}},
{"ts":"Thu Mar 25 03:13:08 UTC 2010", "user":{"name":"Lamur","user_id":"68694999"}}],
"lastVote":{"timestamp":1269486788526,"user":
{"name":"Lamur","user_id":"68694999"}},"startPrice":0}]'
)
m <- lapply(
l[[1]]$votes,
function(x) c(x$user['name'], x$user['user_id'], x['ts'])
)
m <- do.call(rbind, m)
m
l[[1]]$winner
l
m <- lapply(
tweets[[1]]$coordinates$coordinates,
function(x) c(x$coordinates[1], x$coordinates[2])
)
m <- lapply(
tweets[[1]]$coordinates,
function(x) c(x$coordinates[1], x$coordinates[2])
)
tweets[[1]]$coordinates
tweets[[1]]$coordinates$coordinates,
tweets[[1]]$coordinates$coordinates
tweets <- fromJSON(sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=",")))
tweets[[1]]$coordinates$coordinates
m <- lapply(
tweets[[1]]$coordinates$coordinates,
function(x) c(x)
)
m
do.call(m, rbind)
help.search(list)
help.search("list")
help.search("list", package="dplyr")
library(plyr)
ldply(tweets)
ldply(tweets, data.frame)
tweets[[1]]$coordinates$coordinates
tweets[[1]]$coordinates$coordinates # the coordinates
unlist(tweets)
tweets[[2]]
head(tweets[[2]])
length(tweets[[2]])
matrix(unlist(tweets), ncol=23)
matrix(unlist(tweets), ncol=23, byrow=T)
matrix(unlist(tweets), ncol=23, byrow=F)
ts <- fromJSON(sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=",")))
length(ts[[2]])
ts[[1]]$coordinates$coordinates # the coordinates
sapply(ts, function(x), x$coordinates$coordinates )
sapply(ts, function(x) x$coordinates$coordinates )
unlist(sapply(ts, function(x) x$coordinates$coordinates ))
sapply(ts, function(x) x$coordinates$coordinates )
matrix(unlist(sapply(ts, function(x) x$coordinates$coordinates )), ncol=2)
matrix(unlist(sapply(ts, function(x) x$coordinates$coordinates )), ncol=2, byrow=T)
text <- sapply(ts, function(x) x$text )
text
text <- unlist(ts)
text
text <- unlist(text)
text
text <- sapply(ts, function(x) x$text )
text <- unlist(text)
text
tdf <- data.frame(text = text)
tdf <- cbind(tdf, coords)
coords <- matrix(unlist(sapply(ts, function(x) x$coordinates$coordinates )), ncol=2, byrow=T)
tdf <- cbind(tdf, coords)
coords
tdf
text <- sapply(ts, function(x) x$text )
text <- unlist(text)
text
tdf <- data.frame(text = text)
tdf <- cbind(tdf, coords)
text <- unlist(text)[-1]
text <- sapply(ts, function(x) x$text )
text <- unlist(text)[-1]
text
tdf <- data.frame(text = text)
tdf <- cbind(tdf, coords)
tdf
plot(tdf$1, tdf$2)
plot(tdf$1, tdf$2)
coords <- as.data.frame(coords)
coords
plot(tdf$V1, tdf$V2)
ts <- fromJSON(sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=",")))
length(ts[[2]])
ts[[1]]$coordinates$coordinates # the coordinates
sapply(ts, function(x) x$coordinates$coordinates )
coords <- matrix(unlist(sapply(ts, function(x) x$coordinates$coordinates )), ncol=2, byrow=T)
coords <- as.data.frame(coords)
text <- sapply(ts, function(x) x$text )
text <- unlist(text)[-1]
text
tdf <- data.frame(text = text) # create R data.frame
tdf <- cbind(tdf, coords)
tdf
plot(tdf$V1, tdf$V2)
text(tdf$V1, tdf$V2, labels=tdf$text)
??SpatialPolygonsDataFrame
library(rjson)
tweet <- fromJSON # loads 1st tweet, but no more
tweet
tweet <- fromJSON("data/tweets.json") # loads 1st tweet, but no more
tweet
tweet <- fromJSON("data/tweets.json") # loads 1st tweet, but no more
tweet
tweet <- fromJSON("data/tweets.json") # loads 1st tweet, but no more
tweet <- fromJSON(file = "data/tweets.json") # loads 1st tweet, but no more
tweet
names(tweet)
tweet$text
ts <- fromJSON(sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=",")))
length(ts[[2]])
ts[[1]]$coordinates$coordinates # the coordinates
ts <- fromJSON(sprintf("[%s]", paste(readLines("data/tweets.json"),collapse=",")))
ts[[2]]$text
ts[[1]]$coordinates$coordinates # the coordinates
sapply(ts, function(x) x$coordinates$coordinates )
sapply(ts, function(x) x$coordinates$coordinates )[[1:3]]
sapply(ts, function(x) x$coordinates$coordinates )[[1]]
coords <- matrix(unlist(sapply(ts, function(x) x$coordinates$coordinates )), ncol=2, byrow=T)
coords
coords <- as.data.frame(coords)
coords
text <- sapply(ts, function(x) x$text )
text <- unlist(text)[-1]
text
tdf <- data.frame(text = text) # create R data.frame
tdf <- cbind(tdf, coords)
tdf
text <- sapply(ts, function(x) x$text )
text <- unlist(text)[-1]
text[1:3]
tdf <- data.frame(text = text) # create R data.frame
tdf <- cbind(tdf, coords)
tdf
